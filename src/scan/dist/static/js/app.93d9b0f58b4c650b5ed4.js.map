{"version":3,"sources":["webpack:///./src/util.js","webpack:///src/Camera.vue","webpack:///./src/Camera.vue?23d6","webpack:///./src/Camera.vue","webpack:///src/App.vue","webpack:///./src/App.vue?c599","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["dataUrl","path","location","protocol","hostname","port","Camera","name","props","id","type","String","required","refreshInterval","Number","default","data","loaded","error","ver","saving","computed","imageUrl","this","mounted","img","$refs","onload","onLoad","onerror","onError","onabort","onAbort","methods","refresh","progress","e","scheduleReload","vm","setTimeout","console","log","selectortype_template_index_0_src_Camera","render","_vm","_h","$createElement","_c","_self","attrs","flat","_v","_s","directives","rawName","value","expression","ref","src","_e","staticClass","indeterminate","height","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","cameras","created","initCameras","cb","fetch","then","resp","json","selectortype_template_index_0_src_App","dark","color","fluid","row","wrap","_l","key","md12","lg6","refInFor","src_App","App_normalizeComponent","vue_esm","use","vuetify_default","a","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.93d9b0f58b4c650b5ed4.js","sourcesContent":["export function fetchData(path, cb) {\n  fetch(dataUrl(path)).then(function(resp) {\n    return resp.json();\n  }).then(function(json) {\n    cb(json);\n  });\n}\n\nexport function dataUrl(path) {\n  return (\n    location.protocol + '//' +\n      location.hostname + ':' +\n      (process.env.APP_PORT || location.port) +\n      path);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","<template>\n  <v-card flat>\n    <v-card-title>\n      <h2>{{ id }}</h2>\n    </v-card-title>\n    <img :src=\"imageUrl\" ref=\"img\" v-show=\"loaded\">\n    <div class=\"waiting\" v-if=\"!loaded\">\n      <v-progress-linear :indeterminate=\"true\" height=\"5\"></v-progress-linear>\n      <div>Waiting for image</div>\n    </div>\n    <div class=\"error\" v-if=\"error\">\n      <div>An error occurred loading the image</div>\n    </div>\n    <!--\n    <v-card-actions>\n      <v-btn\n        flat\n        v-if=\"loaded || error\"\n        @click=\"refresh\">Refresh</v-btn>\n    </v-card-actions>\n    -->\n  </v-card>\n</template>\n\n<script>\nimport { dataUrl } from './util.js';\n\nexport default {\n  name: 'camera',\n\n  props: {\n    id: {\n      type: String,\n      required: true\n    },\n    refreshInterval: {\n      type: Number,\n      default: 5\n    }\n  },\n\n  data() {\n    return {\n      loaded: false,\n      error: null,\n      ver: 1,\n      saving: false\n    };\n  },\n\n  computed: {\n    imageUrl() {\n      return dataUrl('/detected/' + this.id + '.png?' + this.ver);\n    }\n  },\n\n  mounted() {\n    const img = this.$refs.img;\n    img.onload = this.onLoad;\n    img.onerror = this.onError;\n    img.onabort = this.onAbort;\n  },\n\n  methods: {\n    refresh(progress) {\n      if (progress) {\n        this.loaded = false;\n      }\n      this.error = null;\n      this.ver += 1;\n    },\n\n    onLoad(e) {\n      this.loaded = true;\n      this.saving = false;\n      this.error = null;\n      this.scheduleReload();\n    },\n\n    scheduleReload() {\n      const vm = this;\n      setTimeout(function() {\n        vm.refresh(false);\n      }, this.refreshInterval * 1000);\n    },\n\n    onError(e) {\n      // ignore error, assuming 404\n      this.scheduleReload();\n    },\n\n    onAbort(e) {\n      console.log('ABORT', e);\n      this.scheduleReload();\n    }\n  }\n};\n</script>\n\n<style scoped>\nimg {\n  padding: 0 16px;\n  max-width: 100%;\n}\n\n.waiting, .error {\n  padding: 0 16px;\n  margin-bottom: 16px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/Camera.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-title',[_c('h2',[_vm._v(_vm._s(_vm.id))])]),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loaded),expression:\"loaded\"}],ref:\"img\",attrs:{\"src\":_vm.imageUrl}}),_vm._v(\" \"),(!_vm.loaded)?_c('div',{staticClass:\"waiting\"},[_c('v-progress-linear',{attrs:{\"indeterminate\":true,\"height\":\"5\"}}),_vm._v(\" \"),_c('div',[_vm._v(\"Waiting for image\")])],1):_vm._e(),_vm._v(\" \"),(_vm.error)?_c('div',{staticClass:\"error\"},[_c('div',[_vm._v(\"An error occurred loading the image\")])]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f3f12478\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Camera.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f3f12478\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Camera.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Camera.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Camera.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f3f12478\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Camera.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f3f12478\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Camera.vue\n// module id = null\n// module chunks = ","<template>\n  <v-app>\n    <v-content>\n      <v-card class=\"elevation-3\" height=\"100%\">\n        <v-toolbar dark color=\"primary\">\n          <v-toolbar-title>Scanner</v-toolbar-title>\n        </v-toolbar>\n        <v-card-text class=\"content-body\">\n          <v-container fluid>\n            <v-layout row wrap>\n              <v-flex\n                md12 lg6\n                v-for=\"key in cameras\"\n                :key=\"key\">\n                <camera :id=\"key\" ref=\"cameras\" />\n              </v-flex>\n            </v-layout>\n          </v-container>\n        </v-card-text>\n      </v-card>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport Camera from './Camera.vue';\nimport { fetchData } from './util.js';\n\nexport default {\n  name: 'App',\n\n  components: {\n    Camera\n  },\n\n  data() {\n    return {\n      cameras: []\n    };\n  },\n\n  created() {\n    this.initCameras();\n  },\n\n  methods: {\n    initCameras() {\n      const vm = this;\n      fetchData('/cameras', function(cameras) {\n        vm.cameras = cameras;\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.content-body {\n  padding-top: 0;\n}\n\n.content-body > .container {\n  padding: 6px 12px;\n}\n\n@media only screen and (max-width: 599px) {\n  .content-body {\n    padding: 0;\n  }\n\n  .content-body > .container {\n    padding: 6px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-content',[_c('v-card',{staticClass:\"elevation-3\",attrs:{\"height\":\"100%\"}},[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-toolbar-title',[_vm._v(\"Scanner\")])],1),_vm._v(\" \"),_c('v-card-text',{staticClass:\"content-body\"},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.cameras),function(key){return _c('v-flex',{key:key,attrs:{\"md12\":\"\",\"lg6\":\"\"}},[_c('camera',{ref:\"cameras\",refInFor:true,attrs:{\"id\":key}})],1)}))],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5371f2a6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5371f2a6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5371f2a6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5371f2a6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport Vuetify from 'vuetify';\nimport 'vuetify/dist/vuetify.min.css';\n\nVue.use(Vuetify);\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}