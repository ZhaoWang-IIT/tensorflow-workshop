webpackJsonp([1],{"7zck":function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW");function a(t){return location.protocol+"//"+location.hostname+":"+location.port+t}var o={name:"camera",props:{id:{type:String,required:!0},refreshInterval:{type:Number,default:5}},data:function(){return{loaded:!1,error:null,ver:1,saving:!1}},computed:{imageUrl:function(){return a("/detected/"+this.id+".png?"+this.ver)}},mounted:function(){var t=this.$refs.img;t.onload=this.onLoad,t.onerror=this.onError,t.onabort=this.onAbort},methods:{refresh:function(t){t&&(this.loaded=!1),this.error=null,this.ver+=1},onLoad:function(t){this.loaded=!0,this.saving=!1,this.error=null,this.scheduleReload()},scheduleReload:function(){var t=this;setTimeout(function(){t.refresh(!1)},1e3*this.refreshInterval)},onError:function(t){this.scheduleReload()},onAbort:function(t){console.log("ABORT",t),this.scheduleReload()}}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{flat:""}},[r("v-card-title",[r("h2",[t._v(t._s(t.id))])]),t._v(" "),r("img",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],ref:"img",attrs:{src:t.imageUrl}}),t._v(" "),t.loaded?t._e():r("div",{staticClass:"waiting"},[r("v-progress-linear",{attrs:{indeterminate:!0,height:"5"}}),t._v(" "),r("div",[t._v("Waiting for image")])],1),t._v(" "),t.error?r("div",{staticClass:"error"},[r("div",[t._v("An error occurred loading the image")])]):t._e()],1)},staticRenderFns:[]};var s={name:"App",components:{Camera:r("VU/8")(o,i,!1,function(t){r("wXu3")},"data-v-f3f12478",null).exports},data:function(){return{cameras:[]}},created:function(){this.initCameras()},methods:{initCameras:function(){var t,e=this;t=function(t){e.cameras=t},fetch(a("/cameras")).then(function(t){return t.json()}).then(function(e){t(e)})}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("v-content",[e("v-card",{staticClass:"elevation-3",attrs:{height:"100%"}},[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-toolbar-title",[this._v("Scanner")])],1),this._v(" "),e("v-card-text",{staticClass:"content-body"},[e("v-container",{attrs:{fluid:""}},[e("v-layout",{attrs:{row:"",wrap:""}},this._l(this.cameras,function(t){return e("v-flex",{key:t,attrs:{md12:"",lg6:""}},[e("camera",{ref:"cameras",refInFor:!0,attrs:{id:t}})],1)}))],1)],1)],1)],1)],1)},staticRenderFns:[]};var d=r("VU/8")(s,c,!1,function(t){r("QEQG")},"data-v-5371f2a6",null).exports,l=r("3EgV"),u=r.n(l);r("7zck");n.a.use(u.a),n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:d},template:"<App/>"})},QEQG:function(t,e){},wXu3:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.93d9b0f58b4c650b5ed4.js.map